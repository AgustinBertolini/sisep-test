(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{124:function(e,t,n){e.exports=n(202)},131:function(e,t,n){},133:function(e,t,n){},137:function(e,t,n){},157:function(e,t){},159:function(e,t){},198:function(e,t,n){},202:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(104),c=n.n(o),i=(n(131),n(133),n(1)),s=n.n(i),l=n(4),u=n(15),d=n(23),m=n(39),f=n(51),p=(n(137),n(58)),g=n(197),b=n(87),v=n.n(b),h=Object(a.createContext)(),E=function(e){var t=e.children,n=(new URLSearchParams(window.location.search).get("guid"),Object(g.a)("https://sisep-video-chat-app.herokuapp.com")),o=Object(a.useState)(null),c=Object(u.a)(o,2),i=c[0],s=c[1],l=Object(a.useState)({}),d=Object(u.a)(l,2),m=d[0],f=d[1],p=Object(a.useState)({}),b=Object(u.a)(p,2),E=b[0],O=b[1],j=Object(a.useState)(!1),y=Object(u.a)(j,2),w=y[0],x=y[1],S=Object(a.useState)(!1),C=Object(u.a)(S,2),I=C[0],k=C[1],T=Object(a.useState)(""),N=Object(u.a)(T,2),D=N[0],A=N[1],F=Object(a.useState)(""),z=Object(u.a)(F,2),P=z[0],R=z[1],G=Object(a.useState)(""),M=Object(u.a)(G,2),L=M[0],V=M[1],U=Object(a.useState)([]),J=Object(u.a)(U,2),_=(J[0],J[1]),B=Object(a.useRef)(),K=Object(a.useRef)(),W=Object(a.useRef)();Object(a.useEffect)(function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(function(e){s(e),B.current&&(B.current.srcObject=e)}),n.on("me",function(e){return f(e)}),n.on("users",function(e){return _(e)}),n.on("calluser",function(e){var t=e.from,n=e.name,a=e.signal;O({isReceivingCall:!0,from:t,name:n,signal:a})})},[]);return r.a.createElement(h.Provider,{value:{call:E,callAccepted:w,callEnded:I,myVideo:B,userVideo:K,stream:i,name:D,setName:A,interviewedName:P,setInterviewedName:R,me:m,callUser:function(e){var t=new v.a({initiator:!0,trickle:!1,stream:i});t.on("signal",function(e){n.emit("calluser",{userToCall:"",signalData:e,from:m,name:D})}),t.on("stream",function(e){K.current.srcObject=e}),n.on("callaccepted",function(e){x(!0),R(D),t.signal(e)}),W.current=t},leaveCall:function(){k(!0),W.current.destroy(),window.location.reload()},answercall:function(e){x(!0);var t=new v.a({initiator:!1,trickle:!1,stream:i});t.on("signal",function(e){n.emit("answercall",{signal:e,to:E.from})}),t.on("stream",function(e){K.current.srcObject=e}),t.signal(E.signal),W.current=t},textAreaCodeId:L,setTextAreaCodeId:V}},t)};m.b.add(f.c,f.a);var O,j,y,w,x=function(e){var t=Object(a.useContext)(h).name,n=e.message,o=e.messageName,c=e.date;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"divChatMessage",style:{justifyContent:o===t?"right":"left"}},r.a.createElement("div",{className:"divText"},r.a.createElement("div",null,r.a.createElement("span",{className:"spanName"},o)),r.a.createElement("span",null,n),r.a.createElement("div",{className:"divMessageTime"},r.a.createElement("span",null,"".concat(c.getHours().toString().padStart(2,"0"),":").concat(c.getMinutes().toString().padStart(2,"0"))),r.a.createElement(p.a,{className:"iconTime",icon:"fa-solid fa-clock",size:"sm"})))))},S=n(49),C=n(50),I=C.a.div(O||(O=Object(S.a)(["\n    display: flex;\n    align-items: flex-end;\n    flex-direction: column-reverse;\n    height: 95vh;\n    max-height: 95vh;\n    overflow-y: auto;\n    background-color: #f0f0f0;\n    border-color: #f2f2f2;\n"]))),k=C.a.div(j||(j=Object(S.a)(["\n    display: flex;\n    align-items: flex-end;\n    height: 5vh;\n    max-height: 5vh;\n    width: 98%;\n    border-color: #f2f2f2;\n"]))),T=C.a.input(y||(y=Object(S.a)(["\n    //border-color: 1px white !important;\n    border: 1px solid lightgray;\n    color: rgb(120, 120, 120) !important;\n    font-size: 0.8rem !important;\n    transition: 400ms !important;\n    margin-right: 0.25rem;\n    padding: 0.3rem;\n    width: 100%;\n\n    &:focus {\n        background-color: #f7f7f7 !important;\n        border-color: #acacac !important;\n        outline: 0 !important;\n        box-shadow: 0 0 0 0.15rem #ededed !important;\n    }\n"]))),N=Object(C.a)(p.a)(w||(w=Object(S.a)(["\n    color: #5797f5;\n    transition: all 500ms;\n    margin-bottom: 0.25rem;\n\n    &:hover {\n        color: #2d4f81;\n        cursor: pointer;\n    }\n"]))),D=n(88);n(204),n(168);n(100).config();var A=D.a.initializeApp({apiKey:"AIzaSyAAPNSJDfdktSZ2j-0vr_OeiNP5r1lc5fo",authDomain:"sisep-85cdb.firebaseapp.com",projectId:"sisep-85cdb",storageBucket:"sisep-85cdb.appspot.com",messagingSenderId:"393169712076",appId:"1:393169712076:web:2c6cac182fb9baa7bf6369",measurementId:"G-XKZL6FP4VT"}),F=(A.auth(),A.firestore()),z=(D.a.auth,n(13));m.b.add(f.b);var P=function(e){var t=e.isInterviewer,n=Object(a.useContext)(h).name,o=Object(a.useState)([]),c=Object(u.a)(o,2),i=c[0],d=c[1],m=Object(a.useState)(""),f=Object(u.a)(m,2),p=f[0],g=f[1],b=function(){var e=Object(l.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""===p){e.next=4;break}return e.next=3,F.collection("conversations").add({guid:"ASDGSFG1231",message:p,date:z.k.fromDate(new Date),timestamp:z.k.toString(),isEntrevistador:t,name:n});case 3:g("");case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.collection("conversations").onSnapshot(function(e){return d(e.docs.sort(function(e,t){return t.data().date.seconds-e.data().date.seconds}).map(function(e){var t=e.data();return{guid:t.guid,date:new Date(1e3*t.date.seconds),timestamp:t.timestamp,isEntrevistador:t.isEntrevistador,message:t.message,name:t.name}}))});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){v()},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{borderLeft:"1px solid #cbcbcb"}},r.a.createElement(I,null,i&&i.length>0&&i.map(function(e){return r.a.createElement(x,{key:e.timestamp,message:e.message,emisor:e.isEntrevistador,messageName:e.name,date:e.date})})),r.a.createElement(k,null,r.a.createElement(T,{type:"text",autoComplete:"off",placeholder:"Escriba un mensaje...",value:p,onChange:function(e){return g(e.target.value)},onKeyUp:function(e){"Enter"===e.key&&b()}}),r.a.createElement(N,{onClick:function(){return b()},icon:"fa-solid fa-circle-chevron-right",size:"lg"}))))},R=n(196),G=function(){var e=Object(a.useContext)(h),t=e.textAreaCodeId,n=e.setTextAreaCodeId,o=Object(a.useState)(""),c=Object(u.a)(o,2),i=c[0],d=c[1],m=function(){var e=Object(l.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0)){e.next=5;break}return e.next=3,F.collection("codes").doc(t).set({guid:"ASDGSFG1231",code:i,date:z.k.fromDate(new Date)});case 3:e.next=7;break;case 5:return e.next=7,F.collection("codes").add({guid:"ASDGSFG1231",code:i,date:z.k.fromDate(new Date)}).then(function(e){return n(e.id)});case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.collection("codes").onSnapshot(function(e){var t=e.docs.find(function(e){return"ASDGSFG1231"===e.data().guid&&""!==e.data().code});t&&d(t.data().code)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){m(),f();var e=setInterval(function(){m()},1500);return function(){return clearInterval(e)}},[]),Object(a.useEffect)(function(){console.log(i)},[i]),r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{value:i,language:"js",placeholder:"Please enter JS code.",onChange:function(e){return d(e.target.value)},padding:15,style:{fontSize:12,border:"1px solid lightgray",backgroundColor:"#efefef",marginBottom:"15%",minHeight:"100%",fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace"}}))},M=n(231),L=n(229),V=function(e){var t=e.open,n=(e.setOpen,e.guidOdoo),o=Object(a.useContext)(h).leaveCall,c=Object(a.useState)(0),i=Object(u.a)(c,2),m=i[0],f=i[1],p=function(){var e=Object(l.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",SoeToken:"Cwf8tVGv674@"},body:JSON.stringify({status:"done",observations:"To do",result_attachment:"",score:m})},e.next=3,fetch("https://sisep.ovh001.eynes.com.ar/sisep/soe/interview/".concat(n),t);case 3:o();case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(d.d,{isOpen:t,style:{paddingTop:"10%",width:"20%"}},r.a.createElement(d.e,null,r.a.createElement(d.g,null,r.a.createElement(M.a,{component:"legend",fontSize:"0.8rem",fontWeight:"bold"},"Puntue la entrevista"),r.a.createElement(L.a,{name:"simple-controlled",value:m,onChange:function(e,t){f(t)},defaultValue:1,size:"large",sx:{".MuiSvgIcon-root":{fill:"yellow"}}}))),r.a.createElement(d.f,null,r.a.createElement(d.a,{color:"primary",onClick:function(){return p()}},"Finalizar entrevista")))},U=function(e){var t=e.isCodeInterview,n=e.isInterviewer,o=(e.showInitialModal,e.guidOdoo),c=Object(a.useContext)(h),i=c.name,m=c.callAccepted,f=c.myVideo,g=c.userVideo,b=c.callEnded,v=c.stream,E=c.call,O=c.answercall,j=Object(a.useState)(!1),y=Object(u.a)(j,2),w=y[0],x=y[1],S=function(){var e=Object(l.a)(s.a.mark(function e(){var n,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return O(t),n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",SoeToken:"Cwf8tVGv674@"},body:JSON.stringify({status:"in_progress",observations:"Comenzo la entrevista",result_attachment:"",score:"0"})},e.next=4,fetch("https://sisep.ovh001.eynes.com.ar/sisep/soe/interview/".concat(o),n);case 4:a=e.sent,console.log("response",a.json());case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,v&&r.a.createElement(r.a.Fragment,null,r.a.createElement(d.g,{style:{paddingLeft:"3%",paddingTop:t?"0%":"5%"}},r.a.createElement(d.b,{xs:6,style:{display:"flex",flexDirection:"column",textAlign:"center",paddingLeft:"0px",paddingRight:"2px"}},r.a.createElement("video",{width:"100%",height:t?"40%":"100%",playsInline:!0,muted:!0,ref:f,autoPlay:!0,style:{borderRadius:"1%",transition:"1000ms"}}),r.a.createElement("span",{style:{fontWeight:"bold",color:"#4a4a4a"}},i)),E.isReceivingCall&&!m&&n?r.a.createElement(d.b,{sm:6},r.a.createElement("div",{style:{display:"flex",marginTop:"40%",alignItems:"center",flexDirection:"column",transition:"500ms"}},r.a.createElement("h3",{style:{color:"#4a4a4a",textAlign:"center"}},E.name," ha solicitado entrar a la llamada"),r.a.createElement(d.a,{style:{width:"25%"},color:"primary",onClick:function(){return S()}},"Habilitar"))):!m&&r.a.createElement(d.b,{sm:6},r.a.createElement("div",{style:{display:"flex",marginTop:"40%",alignItems:"center",flexDirection:"column",transition:"500ms"}},r.a.createElement("h3",{style:{color:"#4a4a4a",textAlign:"center"}},n?"Esperando al cantidado...":"Esperando al entrevistador..."),r.a.createElement("div",{className:"loader"}))),m&&!b&&r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{xs:6,style:{display:"flex",flexDirection:"column",textAlign:"center",paddingLeft:"2px",paddingRight:"0px"}},r.a.createElement("video",{width:"100%",height:t?"40%":"100%",playsInline:!0,muted:!0,ref:g,autoPlay:!0,style:{borderRadius:"1%",transition:"1000ms"}}),r.a.createElement("span",{style:{fontWeight:"bold",color:"#4a4a4a"}},n?"Candidato":"Entrevistador"))),r.a.createElement(d.g,{style:{marginRight:"0px",paddingLeft:"1%",justifyContent:"center"}},m&&!b&&n&&r.a.createElement(d.a,{color:"danger",onClick:function(){return x(!w)},style:{width:"5%"}},r.a.createElement(p.a,{style:{transform:"rotate(90deg)"},icon:"fa-solid fa-phone-slash",size:"sm"})))),r.a.createElement(V,{open:w,setOpen:x,guidOdoo:o})))},J=n(6),_=n(79),B=function(e){var t=e.open,n=e.setOpen,o=(e.isCodeInterview,e.setIsCodeInterview,e.isInterviewer,e.setIsInterviewer),c=e.interviewData,i=Object(a.useContext)(h),s=i.setName,l=i.callUser,m=Object(a.useState)({name:"",guidInterview:""}),f=Object(u.a)(m,2),p=f[0],g=f[1],b=function(){p.name===c.mail_interviewer?(s(p.name),n(!t),o(!0)):(s(p.name),l(p.name),n(!t))};return r.a.createElement(d.d,{isOpen:t,style:{paddingTop:"10%"}},r.a.createElement(d.e,null,r.a.createElement(d.g,null,r.a.createElement(d.b,{sm:12},r.a.createElement(d.c,{type:"text",value:p.name,autoComplete:"off",placeholder:"Ingrese su email",name:"name",onChange:function(e){g(Object(_.a)({},p,Object(J.a)({},e.target.name,e.target.value)))},onKeyUp:function(e){"Enter"===e.key&&b()}}),r.a.createElement(M.a,{fontSize:"0.8rem",htmlColor:"#fafafa",sx:{opacity:"75%"}},"Este campo es utilizado para validar su identidad")))),r.a.createElement(d.f,null,r.a.createElement(d.a,{color:"primary",onClick:function(){return b()},disabled:0===p.name.length},"Unirme ahora")))};m.b.add(f.d);var K=function(){Object(a.useContext)(h).name;var e=new URLSearchParams(window.location.search).get("guid"),t=Object(a.useState)(!0),n=Object(u.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)(!1),m=Object(u.a)(i,2),f=m[0],p=m[1],g=Object(a.useState)(!1),b=Object(u.a)(g,2),v=b[0],E=b[1],O=Object(a.useState)(null),j=Object(u.a)(O,2),y=j[0],w=j[1],x=function(){var t=Object(l.a)(s.a.mark(function t(){var n,a,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",SoeToken:"Cwf8tVGv674@"},body:JSON.stringify({})},t.next=3,fetch("https://sisep.ovh001.eynes.com.ar/sisep/soe/interview/getinfo/".concat(e),n);case 3:return a=t.sent,t.next=6,a.json();case 6:r=t.sent,p(r.result.is_code),w(r.result),console.log("get odoo",r);case 10:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)(function(){x()},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.g,{style:{display:o&&"none",marginRight:"0px",position:"sticky",top:"8%",backgroundColor:"white",zIndex:99}},r.a.createElement(d.b,{sm:9},r.a.createElement(U,{isInterviewer:v,isCodeInterview:f,showInitialModal:o,guidOdoo:e})),r.a.createElement(d.b,{sm:3,style:{position:"fixed",right:"-1%"}},r.a.createElement(P,{isInterviewer:v}))),f&&r.a.createElement(d.g,{style:{display:o&&"none",marginTop:"5%",marginRight:"0px",marginBottom:"3%"}},r.a.createElement(d.b,{sm:{offset:1,size:7}},r.a.createElement(G,null))),r.a.createElement(B,{open:o,setOpen:c,isCodeInterview:f,setIsCodeInterview:p,isInterviewer:v,setIsInterviewer:E,interviewData:y}))},W=(n(198),function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light p-0",style:{backgroundColor:"#275fb3",position:"fixed",width:"100%",zIndex:99}},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"navbar-brand",style:{color:"#d5d2d2",fontWeight:"600"}},"SISEP"),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"}))),t)});var H=function(){return r.a.createElement(W,null,r.a.createElement(K,null))},Z=function(e){e&&e instanceof Function&&n.e(1).then(n.bind(null,228)).then(function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),o(e),c(e)})};n(200);n(100).config(),c.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null,r.a.createElement(H,null)))),Z()}},[[124,3,2]]]);
//# sourceMappingURL=main.fc690a97.chunk.js.map