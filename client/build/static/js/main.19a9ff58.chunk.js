(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,n){e.exports=n(181)},113:function(e,t,n){},115:function(e,t,n){},119:function(e,t,n){},139:function(e,t){},141:function(e,t){},177:function(e,t,n){},181:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(86),l=n.n(c),i=(n(113),n(115),n(15)),o=n(14),s=n(1),m=n.n(s),u=n(4),d=n(32),f=n(41),g=(n(119),n(47)),p=n(99),b=n(68),E=n.n(b),v=Object(a.createContext)(),h=Object(p.a)("https://sisep-video-chat-app.herokuapp.com/"),y=function(e){var t=e.children,n=Object(a.useState)(null),c=Object(i.a)(n,2),l=c[0],o=c[1],s=Object(a.useState)(""),m=Object(i.a)(s,2),u=m[0],d=m[1],f=Object(a.useState)({}),g=Object(i.a)(f,2),p=g[0],b=g[1],y=Object(a.useState)(!1),w=Object(i.a)(y,2),j=w[0],O=w[1],x=Object(a.useState)(!1),C=Object(i.a)(x,2),S=C[0],k=C[1],I=Object(a.useState)(""),F=Object(i.a)(I,2),D=F[0],N=F[1],A=Object(a.useState)(""),R=Object(i.a)(A,2),T=R[0],P=R[1],z=Object(a.useRef)(),G=Object(a.useRef)(),L=Object(a.useRef)();Object(a.useEffect)(function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(function(e){o(e),z.current&&(z.current.srcObject=e)}),h.on("me",function(e){return d(e)}),h.on("calluser",function(e){var t=e.from,n=e.name,a=e.signal;b({isReceivingCall:!0,from:t,name:n,signal:a})})},[]);return r.a.createElement(v.Provider,{value:{call:p,callAccepted:j,callEnded:S,myVideo:z,userVideo:G,stream:l,name:D,setName:N,interviewedName:T,setInterviewedName:P,me:u,callUser:function(e,t){var n=new E.a({initiator:!0,trickle:!1,stream:l});n.on("signal",function(n){h.emit("calluser",{userToCall:e,signalData:n,from:u,name:t})}),n.on("stream",function(e){G.current.srcObject=e}),h.on("callaccepted",function(e){O(!0),P(D),n.signal(e)}),L.current=n},leaveCall:function(){k(!0),L.current.destroy(),window.location.reload()},answercall:function(e){O(!0);var t=new E.a({initiator:!1,trickle:!1,stream:l});t.on("signal",function(e){h.emit("answercall",{signal:e,to:p.from})}),t.on("stream",function(e){G.current.srcObject=e}),t.signal(p.signal),L.current=t}}},t)};d.b.add(f.c,f.a);var w,j,O,x,C=function(e){var t=Object(a.useContext)(v).name,n=e.message,c=e.messageName,l=e.date;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"divChatMessage",style:{justifyContent:c===t?"right":"left"}},r.a.createElement("div",{className:"divText"},r.a.createElement("div",null,r.a.createElement("span",{className:"spanName"},c)),r.a.createElement("span",null,n),r.a.createElement("div",{className:"divMessageTime"},r.a.createElement("span",null,"".concat(l.getHours().toString().padStart(2,"0"),":").concat(l.getMinutes().toString().padStart(2,"0"))),r.a.createElement(g.a,{className:"iconTime",icon:"fa-solid fa-clock",size:"sm"})))))},S=n(39),k=n(40),I=k.a.div(w||(w=Object(S.a)(["\n    display: flex;\n    align-items: flex-end;\n    flex-direction: column-reverse;\n    height: 95vh;\n    max-height: 95vh;\n    overflow-y: auto;\n    background-color: #f0f0f0;\n    border-color: #f2f2f2;\n"]))),F=k.a.div(j||(j=Object(S.a)(["\n    display: flex;\n    align-items: flex-end;\n    height: 5vh;\n    max-height: 5vh;\n    width: 98%;\n    border-color: #f2f2f2;\n"]))),D=k.a.input(O||(O=Object(S.a)(["\n    //border-color: 1px white !important;\n    border: 1px solid lightgray;\n    color: rgb(120, 120, 120) !important;\n    font-size: 0.8rem !important;\n    transition: 400ms !important;\n    margin-right: 0.25rem;\n    padding: 0.3rem;\n    width: 100%;\n\n    &:focus {\n        background-color: #f7f7f7 !important;\n        border-color: #acacac !important;\n        outline: 0 !important;\n        box-shadow: 0 0 0 0.15rem #ededed !important;\n    }\n"]))),N=Object(k.a)(g.a)(x||(x=Object(S.a)(["\n    color: #5797f5;\n    transition: all 500ms;\n    margin-bottom: 0.25rem;\n\n    &:hover {\n        color: #2d4f81;\n        cursor: pointer;\n    }\n"]))),A=n(70);n(182),n(150);n(83).config();var R=A.a.initializeApp({apiKey:"AIzaSyAAPNSJDfdktSZ2j-0vr_OeiNP5r1lc5fo",authDomain:"sisep-85cdb.firebaseapp.com",projectId:"sisep-85cdb",storageBucket:"sisep-85cdb.appspot.com",messagingSenderId:"393169712076",appId:"1:393169712076:web:2c6cac182fb9baa7bf6369",measurementId:"G-XKZL6FP4VT"}),T=(R.auth(),R.firestore()),P=(A.a.auth,n(13));d.b.add(f.b);var z=function(e){var t=e.isInterviewer,n=Object(a.useContext)(v).name,c=Object(a.useState)([]),l=Object(i.a)(c,2),o=l[0],s=l[1],d=Object(a.useState)(""),f=Object(i.a)(d,2),g=f[0],p=f[1],b=function(){var e=Object(u.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""===g){e.next=4;break}return e.next=3,T.collection("conversations").add({guid:"ASDGSFG1231",message:g,date:P.k.fromDate(new Date),isEntrevistador:t,name:n});case 3:p("");case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.collection("conversations").onSnapshot(function(e){return s(e.docs.sort(function(e,t){return t.data().date.seconds-e.data().date.seconds}).map(function(e){var t=e.data();return{guid:t.guid,date:new Date(1e3*t.date.seconds),isEntrevistador:t.isEntrevistador,message:t.message,name:t.name}}))});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){E()},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{borderLeft:"1px solid #cbcbcb"}},r.a.createElement(I,null,o&&o.length>0&&o.map(function(e){return r.a.createElement(C,{message:e.message,emisor:e.isEntrevistador,messageName:e.name,date:e.date})})),r.a.createElement(F,null,r.a.createElement(D,{type:"text",autoComplete:"off",placeholder:"Escriba un mensaje...",value:g,onChange:function(e){return p(e.target.value)},onKeyUp:function(e){"Enter"===e.key&&b()}}),r.a.createElement(N,{onClick:function(){return b()},icon:"fa-solid fa-circle-chevron-right",size:"lg"}))))},G=n(98),L=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(""),o=Object(i.a)(l,2),s=o[0],d=o[1],f=function(){var e=Object(u.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=5;break}return e.next=3,T.collection("codes").doc(n).set({guid:"ASDGSFG1231",code:s,date:P.k.fromDate(new Date)});case 3:e.next=7;break;case 5:return e.next=7,T.collection("codes").add({guid:"ASDGSFG1231",code:s,date:P.k.fromDate(new Date)}).then(function(e){return c(e.id)});case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(u.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.collection("codes").onSnapshot(function(e){var t=e.docs.find(function(e){return"ASDGSFG1231"===e.data().guid&&""!==e.data().code});t&&d(t.data().code)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){f(),g()},[]),Object(a.useEffect)(function(){f()},[s]),r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{value:s,language:"js",placeholder:"Please enter JS code.",onChange:function(e){return d(e.target.value)},onKeyUp:function(e){return"Enter"===e.key&&d("".concat(s))},padding:15,style:{fontSize:12,border:"1px solid lightgray",backgroundColor:"#efefef",marginBottom:"15%",minHeight:"100%",fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace"}}))},M=function(e){var t=e.isCodeInterview,n=e.isInterviewer,c=Object(a.useContext)(v),l=c.name,i=c.callAccepted,s=c.myVideo,m=c.userVideo,u=c.callEnded,d=c.stream,f=c.call,g=c.answercall;return r.a.createElement(r.a.Fragment,null,d&&r.a.createElement(r.a.Fragment,null,r.a.createElement(o.i,{style:{paddingLeft:"3%",paddingTop:"5%"}},r.a.createElement(o.b,{xs:6,style:{display:"flex",flexDirection:"column",textAlign:"center",paddingLeft:"0px",paddingRight:"2px"}},r.a.createElement("video",{width:"100%",height:"100%",playsInline:!0,muted:!0,ref:s,autoPlay:!0,style:{borderRadius:"1%"}}),r.a.createElement("span",{style:{fontWeight:"bold",color:"#4a4a4a"}},l)),f.isReceivingCall&&!i?r.a.createElement(o.b,{sm:6},r.a.createElement("div",{style:{display:"flex",marginTop:"40%",alignItems:"center",flexDirection:"column",transition:"500ms"}},r.a.createElement("h3",{style:{color:"#4a4a4a",textAlign:"center"}},f.name," ha solicitado entrar a la llamada"),r.a.createElement(o.a,{style:{width:"25%"},color:"primary",onClick:function(){return g(t)}},"Habilitar"))):!i&&r.a.createElement(o.b,{sm:6},r.a.createElement("div",{style:{display:"flex",marginTop:"40%",alignItems:"center",flexDirection:"column",transition:"500ms"}},r.a.createElement("h3",{style:{color:"#4a4a4a",textAlign:"center"}},n?"Esperando al cantidado...":"Esperando al entrevistador..."),r.a.createElement("div",{className:"loader"}))),i&&!u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(o.b,{xs:6,style:{display:"flex",flexDirection:"column",textAlign:"center",paddingLeft:"2px",paddingRight:"0px"}},r.a.createElement("video",{width:"100%",height:"100%",playsInline:!0,muted:!0,ref:m,autoPlay:!0,style:{borderRadius:"1%"}}),r.a.createElement("span",{style:{fontWeight:"bold",color:"#4a4a4a"}},n?"Candidato":"Entrevistador"))))))},U=n(6),K=n(52),B=function(e){var t=e.open,n=e.setOpen,c=e.isCodeInterview,l=e.setIsCodeInterview,s=e.isInterviewer,m=e.setIsInterviewer,u=Object(a.useContext)(v),d=u.setName,f=u.callUser,g=Object(a.useState)({name:"",guidInterview:""}),p=Object(i.a)(g,2),b=p[0],E=p[1],h=function(){s?(d(b.name),n(!t)):(d(b.name),f(b.guidInterview,b.name),n(!t))};return r.a.createElement(o.f,{isOpen:t,style:{paddingTop:"10%"}},r.a.createElement(o.g,null,s?r.a.createElement(r.a.Fragment,null,r.a.createElement(o.i,null,r.a.createElement(o.b,{sm:12},r.a.createElement(o.c,null,r.a.createElement(o.d,{type:"text",value:b.name,name:"name",autoComplete:"off",placeholder:"Ingrese su nombre",onChange:function(e){E(Object(K.a)({},b,Object(U.a)({},e.target.name,e.target.value)))},onKeyUp:function(e){"Enter"===e.key&&h()}})))),r.a.createElement(o.i,null,r.a.createElement(o.b,{sm:6},r.a.createElement(o.c,{switch:!0},r.a.createElement(o.d,{type:"switch",role:"switch",autoComplete:"off",checked:c,onChange:function(){return l(!c)}}),r.a.createElement(o.e,{check:!0},"Es entrevista con codigo"))),r.a.createElement(o.b,{sm:6},r.a.createElement(o.c,{switch:!0},r.a.createElement(o.d,{type:"switch",role:"switch",checked:s,onChange:function(){return m(!s)}}),r.a.createElement(o.e,{check:!0},"Es entrevistador"))))):r.a.createElement(r.a.Fragment,null,r.a.createElement(o.i,null,r.a.createElement(o.b,{sm:12},r.a.createElement(o.c,null,r.a.createElement(o.d,{type:"text",value:b.name,autoComplete:"off",placeholder:"Ingrese su nombre",name:"name",onChange:function(e){E(Object(K.a)({},b,Object(U.a)({},e.target.name,e.target.value)))},onKeyUp:function(e){"Enter"===e.key&&h()}})))),r.a.createElement(o.i,null,r.a.createElement(o.b,{sm:12},r.a.createElement(o.c,null,r.a.createElement(o.d,{type:"text",value:b.guidInterview,autoComplete:"off",name:"guidInterview",placeholder:"C\xf3digo de la entrevista",onChange:function(e){E(Object(K.a)({},b,Object(U.a)({},e.target.name,e.target.value)))},onKeyUp:function(e){"Enter"===e.key&&h()}})))),r.a.createElement(o.i,null,r.a.createElement(o.b,{sm:6},r.a.createElement(o.c,{switch:!0},r.a.createElement(o.d,{type:"switch",role:"switch",checked:c,onChange:function(){return l(!c)}}),r.a.createElement(o.e,{check:!0},"Es entrevista con c\xf3digo"))),r.a.createElement(o.b,{sm:6},r.a.createElement(o.c,{switch:!0},r.a.createElement(o.d,{type:"switch",role:"switch",checked:s,onChange:function(){return m(!s)}}),r.a.createElement(o.e,{check:!0},"Es entrevistador")))))),r.a.createElement(o.h,null,r.a.createElement(o.a,{color:"primary",onClick:function(){return h()},disabled:s?0===b.name.length:0===b.guidInterview.length||0===b.name.length},"Unirme ahora")))};d.b.add(f.d);var V=function(){var e=Object(a.useContext)(v),t=e.me,n=e.callAccepted,c=e.callEnded,l=e.leaveCall,s=(e.call,e.answercall,Object(a.useState)(!0)),m=Object(i.a)(s,2),u=m[0],d=m[1],f=Object(a.useState)(!1),p=Object(i.a)(f,2),b=p[0],E=p[1],h=Object(a.useState)(!1),y=Object(i.a)(h,2),w=y[0],j=y[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.i,{style:{display:u&&"none",marginRight:"0px"}},r.a.createElement(o.b,{sm:9},r.a.createElement(M,{isInterviewer:w,isCodeInterview:b})),r.a.createElement(o.b,{sm:3,style:{position:"fixed",right:"-1%"}},r.a.createElement(z,{isInterviewer:w}))),r.a.createElement(o.i,{style:{marginRight:"0px",paddingLeft:"1%"}},r.a.createElement(o.b,{sm:9,style:{textAlign:"center"}},n&&!c&&r.a.createElement(o.a,{color:"danger",onClick:l},r.a.createElement(g.a,{style:{transform:"rotate(90deg)"},icon:"fa-solid fa-phone-slash",size:"sm"})),!n&&w&&r.a.createElement(o.a,{style:{display:u},color:"primary",onClick:function(){navigator.clipboard.writeText(t)}},"Compartir c\xf3digo"))),b&&r.a.createElement(o.i,{style:{display:u&&"none",marginTop:"5%",marginRight:"0px",marginBottom:"3%"}},r.a.createElement(o.b,{sm:{offset:1,size:7}},r.a.createElement(L,null))),r.a.createElement(B,{open:u,setOpen:d,isCodeInterview:b,setIsCodeInterview:E,isInterviewer:w,setIsInterviewer:j}))},J=(n(177),function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light p-0",style:{backgroundColor:"#275fb3",position:"fixed",width:"100%",zIndex:99}},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"navbar-brand",style:{color:"#d5d2d2",fontWeight:"600"}},"SISEP"),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"}))),t)});var H=function(){return r.a.createElement(J,null,r.a.createElement(V,null))},W=function(e){e&&e instanceof Function&&n.e(1).then(n.bind(null,196)).then(function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,l=t.getTTFB;n(e),a(e),r(e),c(e),l(e)})};n(179);n(83).config(),l.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null,r.a.createElement(H,null)))),W()}},[[106,3,2]]]);
//# sourceMappingURL=main.19a9ff58.chunk.js.map